---
layout: map
title: Planning Districts
permalink: /planning-districts/
---

<div class="row">
  <div id="map-wrapper">
    <div id="map" class="medium-8 column show-for-medium"></div>
  
    <div id="district-info" class="ptm medium-16 small-24 column end">
    {% assign categories = site.data.planning_district | group_by: 'Category' %}
    {% assign labels = site.data.planning_district_labels %}
    
    <!-- Dropdown to select district-->
    <div id="district-selector" class="small-24 column prm pbm">
      <label for="select"><p>Choose a district</p></label>
      <select id="planning-district">
        <optgroup label="Planning Districts">
          {% for label in labels %}
          <option>{{ label }}</option>
          {% endfor %}
        </optgroup>
      </select>
    </div>
    <!-- Loop over indicators, group by category and display cards-->
    <div id="indicators" class="">
     
      <!-- Category Heading -->
        {% for category in categories %}
          <h1 id="{{ category.name | slugify }}" class="contrast category-section">{{ category.name }}
            <a href="#{{ category.name | slugify }}" class="header-link"><i class="fa fa-link"></i></a></h1>

          <div class="cards-category row equal-height">
            {% for row in category.items %}
<!--@timwis: can't seem to get the line below to only append the class `end` for the last row in a category-->
            <div class="card card-category large-6 medium-8 small-12 column equal {% if row.Indicator | last %}end{% endif %}">
              <div class="content-block">
                <h1 class="indicator-value" id="value-{{ row.Indicator | slugify }}">
                  {% if row.dataType == 'Percentage' %}
                    {{ row.Citywide | times:100 }}%
                  {% else %}
                    {{ row.Citywide }}
                  {% endif %}
                </h1>
                <h4 class="h2">{{ row.Indicator }}</h4><br>
    <!--                  {% if row.description %}<p aria-haspopup="true" class="has-tip" title="{{ row.description }}">More</p>{% endif %}-->
                {% if row.description %}<p>{{ row.description }}</p>{% endif %}
                {% if row.chartComment %}<p>{{ row.chartComment }}</p>{% endif %}
                {% if row.dataSource %}<p class="source"><strong>Source: </strong><br>
                  {{ row.dataSource }} | {{ row.dataSourceYear }}</p>
                {% endif %}
                {% if row.dateUpdated %}
                <p class="updated"><strong>Data Updated:</strong><br>
                  {{ row.dateUpdated }}</p>
                <p><i class="fa fa-twitter fa-2x"></i></p>
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>  
      {% endfor %}
    </div>
  </div>
  </div>
</div>

<script>
  var container = document.querySelector('#map')
  var districtsGeojson = {{ site.data.planning_district_boundaries | jsonify }}
  var data = {{ site.data.planning_district | jsonify }}
  var labels = {{ site.data.planning_district_labels | jsonify }}
</script>
<script src="{{ site.baseurl }}/scripts/planning-districts.js"></script>

